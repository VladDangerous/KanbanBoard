{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\projects\\\\CanbanDesk\\\\canban\\\\src\\\\components\\\\Column.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Column = ({\n  column,\n  board,\n  setBoard\n}) => {\n  _s();\n  const [text, setText] = useState(\"\");\n  const [selectedTask, setSelectedTask] = useState(\"\");\n\n  // Находим предыдущую колонку\n  const columnOrder = [\"backlog\", \"ready\", \"in-progress\", \"finished\"];\n  const currentIndex = columnOrder.indexOf(column.id);\n  const prevColumn = currentIndex > 0 ? board.find(c => c.id === columnOrder[currentIndex - 1]) : null;\n\n  // Список задач для select (для всех колонок кроме Backlog)\n  const prevIssues = prevColumn ? prevColumn.issues : [];\n\n  // Добавление задачи в Backlog\n  const addTask = () => {\n    if (!text.trim()) return;\n    const newTask = {\n      id: Date.now().toString(),\n      name: text,\n      description: \"\"\n    };\n    setBoard(board.map(c => c.id === column.id ? {\n      ...c,\n      issues: [...c.issues, newTask]\n    } : c));\n    setText(\"\");\n  };\n\n  // Перенос задачи из предыдущей колонки\n  const moveTask = () => {\n    if (!selectedTask) return;\n    let taskToMove;\n    const newBoard = board.map(c => {\n      if (c.id === (prevColumn === null || prevColumn === void 0 ? void 0 : prevColumn.id)) {\n        taskToMove = c.issues.find(i => i.id === selectedTask);\n        return {\n          ...c,\n          issues: c.issues.filter(i => i.id !== selectedTask)\n        };\n      }\n      if (c.id === column.id && taskToMove) {\n        return {\n          ...c,\n          issues: [...c.issues, taskToMove]\n        };\n      }\n      return c;\n    });\n    setBoard(newBoard);\n    setSelectedTask(\"\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      background: \"#eee\",\n      padding: \"10px\",\n      width: \"250px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: column.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), column.issues.map(task => /*#__PURE__*/_jsxDEV(Link, {\n      to: `/tasks/${task.id}`,\n      children: task.name\n    }, task.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this)), column.id === \"backlog\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: text,\n        onChange: e => setText(e.target.value),\n        placeholder: \"New task\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addTask,\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : prevIssues.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedTask,\n        onChange: e => setSelectedTask(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select task\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 15\n        }, this), prevIssues.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: t.id,\n          children: t.name\n        }, t.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: moveTask,\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(Column, \"jDtpDGWRrc6GVlfW7R6nNYcJY1w=\");\n_c = Column;\nexport default Column;\nvar _c;\n$RefreshReg$(_c, \"Column\");","map":{"version":3,"names":["React","useState","Link","jsxDEV","_jsxDEV","Fragment","_Fragment","Column","column","board","setBoard","_s","text","setText","selectedTask","setSelectedTask","columnOrder","currentIndex","indexOf","id","prevColumn","find","c","prevIssues","issues","addTask","trim","newTask","Date","now","toString","name","description","map","moveTask","taskToMove","newBoard","i","filter","style","background","padding","width","children","title","fileName","_jsxFileName","lineNumber","columnNumber","task","to","value","onChange","e","target","placeholder","onClick","length","t","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/projects/CanbanDesk/canban/src/components/Column.tsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport type { Column as ColumnType, BoardData, Issue } from \"../types/types\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\ninterface ColumnProps {\r\n  column: ColumnType;\r\n  board: BoardData;\r\n  setBoard: (board: BoardData) => void;\r\n}\r\n\r\nconst Column: React.FC<ColumnProps> = ({ column, board, setBoard }) => {\r\n  const [text, setText] = useState(\"\");\r\n  const [selectedTask, setSelectedTask] = useState(\"\");\r\n\r\n  // Находим предыдущую колонку\r\n  const columnOrder = [\"backlog\", \"ready\", \"in-progress\", \"finished\"];\r\n  const currentIndex = columnOrder.indexOf(column.id);\r\n  const prevColumn = currentIndex > 0 ? board.find(c => c.id === columnOrder[currentIndex - 1]) : null;\r\n\r\n  // Список задач для select (для всех колонок кроме Backlog)\r\n  const prevIssues = prevColumn ? prevColumn.issues : [];\r\n\r\n  // Добавление задачи в Backlog\r\n  const addTask = () => {\r\n    if (!text.trim()) return;\r\n    const newTask: Issue = { id: Date.now().toString(), name: text, description: \"\" };\r\n    setBoard(board.map(c => c.id === column.id ? { ...c, issues: [...c.issues, newTask] } : c));\r\n    setText(\"\");\r\n  };\r\n\r\n  // Перенос задачи из предыдущей колонки\r\n  const moveTask = () => {\r\n    if (!selectedTask) return;\r\n\r\n    let taskToMove: Issue | undefined;\r\n    const newBoard = board.map(c => {\r\n      if (c.id === prevColumn?.id) {\r\n        taskToMove = c.issues.find(i => i.id === selectedTask);\r\n        return { ...c, issues: c.issues.filter(i => i.id !== selectedTask) };\r\n      }\r\n      if (c.id === column.id && taskToMove) {\r\n        return { ...c, issues: [...c.issues, taskToMove] };\r\n      }\r\n      return c;\r\n    });\r\n\r\n    setBoard(newBoard);\r\n    setSelectedTask(\"\");\r\n  };\r\n\r\n  return (\r\n    <div style={{ background: \"#eee\", padding: \"10px\", width: \"250px\" }}>\r\n      <h2>{column.title}</h2>\r\n\r\n      {column.issues.map(task => (\r\n        <Link key={task.id} to={`/tasks/${task.id}`}>{task.name}</Link>\r\n      ))}\r\n\r\n      {column.id === \"backlog\" ? (\r\n        <>\r\n          <input value={text} onChange={e => setText(e.target.value)} placeholder=\"New task\" />\r\n          <button onClick={addTask}>Add</button>\r\n        </>\r\n      ) : (\r\n        prevIssues.length > 0 && (\r\n          <>\r\n            <select value={selectedTask} onChange={e => setSelectedTask(e.target.value)}>\r\n              <option value=\"\">Select task</option>\r\n              {prevIssues.map(t => (\r\n                <option key={t.id} value={t.id}>{t.name}</option>\r\n              ))}\r\n            </select>\r\n            <button onClick={moveTask}>Add</button>\r\n          </>\r\n        )\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Column;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}